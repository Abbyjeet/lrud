{"version":3,"sources":["webpack:///webpack/bootstrap 4784d6eb0d4f2f277540","webpack:///./src/main.js","webpack:///./src/navigation.js","webpack:////Users/willis114/workspace/lrud/src/index.js","webpack:///./node_modules/events/events.js","webpack:////Users/willis114/workspace/lrud/src/constants.js"],"names":["$id","id","document","getElementById","addClass","className","el","classList","add","removeClass","remove","on","alert","onkeydown","event","keyCode","handleKeyEvent","preventDefault","loadFragment","url","callback","req","XMLHttpRequest","open","send","onload","JSON","parse","responseText","html","nodes","focus","innerHTML","keyCodes","KEY_CODES","Lrud","currentFocus","newNode","props","parent","children","activeChild","orientation","wrapping","grid","carousel","data","prototype","Object","create","register","Error","node","parentNode","indexOf","push","unregister","filter","cid","undefined","blur","forEach","bind","emit","_bubbleActive","_bubbleKeyEvent","_isValidLRUDEvent","KEY_MAP","LEFT","RIGHT","UP","DOWN","_getNextActiveIndex","activeIndex","offset","nextIndex","size","length","_getEventOffset","_updateGrid","self","rowId","rowNode","_setActiveChild","ENTER","nextChild","enter","index","leave","stopPropagation","nextActiveChild","DEFAULT_KEY_CODES","DEFAULT_KEY_MAP"],"mappings":"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,KAAKtB,KAAL,CAAW7B,EAAX,CAAX;;AAEA,MAAImD,KAAKb,MAAT,EAAiB;AACf,SAAK4C,eAAL,CAAqB/B,KAAKb,MAA1B,EAAkCtC,EAAlC;AACA,SAAK+D,aAAL,CAAmBZ,KAAKb,MAAxB;AACD;AACF,CAPD;;AASAJ,KAAKD,SAAL;AACAC,KAAKgC,OAAL;;kBAEehC,I;;;;;;AC7Nf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH,oBAAoB,SAAS;AAC7B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;;AC7SO,IAAIwD,gDAAoB;AAC7B,MAAI,IADyB;AAE7B,MAAI,MAFyB;AAG7B,MAAI,MAHyB;AAI7B,MAAI,OAJyB;AAK7B,MAAI;AALyB,CAAxB;;AAQA,IAAIC,4CAAkB;AAC3BxB,QAAM,MADqB;AAE3BC,SAAO,OAFoB;AAG3BC,MAAI,IAHuB;AAI3BC,QAAM,MAJqB;AAK3Ba,SAAO;AALoB,CAAtB,C","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 4784d6eb0d4f2f277540","import navigation, { keyCodes } from './navigation'\n\nconst $id = (id) => document.getElementById(id)\n\nconst addClass = (className) => (id) => {\n  const el = $id(id)\n  el && el.classList.add(className)\n}\n\nconst removeClass = (className) => (id) => {\n  const el = $id(id)\n  el && el.classList.remove(className)\n}\n\nnavigation.on('focus', addClass('focused'))\nnavigation.on('blur', removeClass('focused'))\nnavigation.on('activate', addClass('active'))\nnavigation.on('deactivate', removeClass('active'))\nnavigation.on('select', (id) => alert(`Selected: ${id}`))\n\ndocument.onkeydown = (event) => {\n  if (keyCodes[event.keyCode]) {\n    navigation.handleKeyEvent(event)\n    event.preventDefault()\n  }\n}\n\nfunction loadFragment(url, callback) {\n  const req = new XMLHttpRequest()\n  req.open('GET', url)\n  req.send()\n  req.onload = () => callback(JSON.parse(req.responseText))\n}\n\nloadFragment('/fragment', ({ html, nodes, focus }) => {\n  document.getElementById('app').innerHTML = html\n\n  navigation.nodes = nodes\n  navigation.focus(focus)\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","import Lrud from '../../../src'\n\nexport default new Lrud()\nexport const keyCodes = Lrud.KEY_CODES\n\n\n\n// WEBPACK FOOTER //\n// ./src/navigation.js","import EventEmitter from 'events'\nimport { DEFAULT_KEY_CODES, DEFAULT_KEY_MAP } from './constants'\n\nfunction Lrud () {\n  this.nodes = {}\n  this.currentFocus = null\n}\n\nfunction newNode (props) {\n  props = props || {}\n\n  return {\n    parent: props.parent,\n    children: props.children || [],\n    activeChild: props.activeChild,\n    orientation: props.orientation,\n    wrapping: props.wrapping,\n    grid: props.grid,\n    carousel: props.carousel,\n    data: props.data\n  }\n}\n\nLrud.prototype = Object.create(EventEmitter.prototype)\n\nLrud.prototype.register = function (id, props) {\n  props = props || {}\n\n  if (!id) {\n    throw new Error('Attempting to register with an invalid id')\n  }\n\n  var node = this.nodes[id] || newNode(props)\n\n  if (node.parent) {\n    var parentNode = this.nodes[node.parent] || newNode()\n\n    if (parentNode.children.indexOf(id) === -1) {\n      parentNode.children.push(id)\n    }\n\n    node.parent = props.parent\n    this.nodes[props.parent] = parentNode\n  }\n\n  this.nodes[id] = node\n}\n\nLrud.prototype.unregister = function (id) {\n  var node = this.nodes[id]\n  if (!node) return\n\n  var parentNode = this.nodes[node.parent]\n\n  if (parentNode) {\n    parentNode.children = parentNode.children.filter(function (cid) {\n      return cid !== id\n    })\n\n    if (parentNode.activeChild === id) {\n      parentNode.activeChild = undefined\n    }\n  }\n\n  if (this.currentFocus === id) {\n    this.blur(id)\n    this.currentFocus = undefined\n  }\n\n  delete this.nodes[id]\n  node.children.forEach(this.unregister.bind(this))\n}\n\nLrud.prototype.blur = function (id) {\n  id = id || this.currentFocus\n\n  var node = this.nodes[id]\n  if (!node) return\n\n  this.emit('blur', id)\n}\n\nLrud.prototype.focus = function (id) {\n  id = id || this.currentFocus\n\n  var node = this.nodes[id]\n  if (!node) return\n\n  var activeChild = node.activeChild || node.children[0]\n\n  if (activeChild) {\n    return this.focus(activeChild)\n  }\n\n  this.blur()\n  this.currentFocus = id\n  this.emit('focus', id)\n  this._bubbleActive(id)\n}\n\nLrud.prototype.handleKeyEvent = function (event) {\n  this._bubbleKeyEvent(event, this.currentFocus)\n}\n\nLrud.prototype._isValidLRUDEvent = function (event, node) {\n  var keyCode = event.keyCode\n\n  return (\n    (\n      node.orientation === 'horizontal' &&\n      (\n        Lrud.KEY_CODES[keyCode] === Lrud.KEY_MAP.LEFT ||\n        Lrud.KEY_CODES[keyCode] === Lrud.KEY_MAP.RIGHT\n      )\n    ) ||\n    (\n      node.orientation === 'vertical' &&\n      (\n        Lrud.KEY_CODES[keyCode] === Lrud.KEY_MAP.UP ||\n        Lrud.KEY_CODES[keyCode] === Lrud.KEY_MAP.DOWN\n      )\n    )\n  )\n}\n\nLrud.prototype._getNextActiveIndex = function (node, activeIndex, offset) {\n  var nextIndex = activeIndex + offset\n  var size = node.children.length\n\n  if (node.wrapping && nextIndex === -1) return size - 1\n  if (node.wrapping && nextIndex === size) return 0\n\n  return nextIndex\n}\n\nLrud.prototype._getEventOffset = function (event) {\n  return (\n    Lrud.KEY_CODES[event.keyCode] === Lrud.KEY_MAP.RIGHT ||\n    Lrud.KEY_CODES[event.keyCode] === Lrud.KEY_MAP.DOWN\n  ) ? 1 : -1\n}\n\nLrud.prototype._updateGrid = function (node) {\n  var self = this\n  var rowId = node.activeChild || node.children[0]\n  var rowNode = this.nodes[rowId]\n  var activeChild = rowNode.activeChild || rowNode.children[0]\n\n  if (!activeChild) return\n\n  var activeIndex = rowNode.children.indexOf(activeChild)\n\n  node.children.forEach(function (id) {\n    var node = self.nodes[id]\n    self._setActiveChild(id, node.children[activeIndex] || node.activeChild)\n  })\n}\n\nLrud.prototype._bubbleKeyEvent = function (event, id) {\n  var node = this.nodes[id]\n  if (!node) return\n\n  if (Lrud.KEY_CODES[event.keyCode] === Lrud.KEY_MAP.ENTER) {\n    return this.emit('select', id)\n  }\n\n  if (this._isValidLRUDEvent(event, node)) {\n    var activeChild = node.activeChild || node.children[0]\n    var activeIndex = node.children.indexOf(activeChild)\n    var offset = this._getEventOffset(event)\n    var nextIndex = this._getNextActiveIndex(node, activeIndex, offset)\n    var nextChild = node.children[nextIndex]\n\n    if (nextChild) {\n      if (node.grid) {\n        this._updateGrid(node)\n      }\n\n      this.emit('move', {\n        id: id,\n        orientation: node.orientation,\n        carousel: node.carousel,\n        offset: offset,\n        enter: { id: nextChild, index: nextIndex },\n        leave: { id: activeChild, index: activeIndex }\n      })\n\n      this.focus(nextChild)\n\n      return event.stopPropagation()\n    }\n  }\n\n  this._bubbleKeyEvent(event, node.parent)\n}\n\nLrud.prototype._setActiveChild = function (id, nextActiveChild) {\n  var activeChild = this.nodes[id].activeChild\n\n  if (activeChild !== nextActiveChild) {\n    if (activeChild) {\n      this.emit('deactivate', activeChild)\n    }\n\n    this.emit('activate', nextActiveChild)\n    this.nodes[id].activeChild = nextActiveChild\n  }\n}\n\nLrud.prototype._bubbleActive = function (id) {\n  var node = this.nodes[id]\n\n  if (node.parent) {\n    this._setActiveChild(node.parent, id)\n    this._bubbleActive(node.parent)\n  }\n}\n\nLrud.KEY_CODES = DEFAULT_KEY_CODES\nLrud.KEY_MAP = DEFAULT_KEY_MAP\n\nexport default Lrud\n\n\n\n// WEBPACK FOOTER //\n// /Users/willis114/workspace/lrud/src/index.js","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/events/events.js\n// module id = 3\n// module chunks = 0","export var DEFAULT_KEY_CODES = {\n  38: 'UP',\n  40: 'DOWN',\n  37: 'LEFT',\n  39: 'RIGHT',\n  13: 'ENTER'\n}\n\nexport var DEFAULT_KEY_MAP = {\n  LEFT: 'LEFT',\n  RIGHT: 'RIGHT',\n  UP: 'UP',\n  DOWN: 'DOWN',\n  ENTER: 'ENTER'\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/willis114/workspace/lrud/src/constants.js"],"sourceRoot":""}